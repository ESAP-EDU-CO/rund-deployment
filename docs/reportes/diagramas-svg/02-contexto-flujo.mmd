flowchart TB
    subgraph Usuarios["ğŸ‘¥ Usuarios"]
        P[("ğŸ‘¨â€ğŸ« Profesor")]
        G[("ğŸ‘” Gestor Profesoral")]
        A[("ğŸ”§ Administrador")]
    end

    subgraph Acceso["ğŸŒ Canales de Acceso"]
        RI["ğŸ¢ Red Interna ESAP"]
        VPN["ğŸ” VPN Institucional"]
    end

    subgraph RUND["ğŸ“¦ Sistema RUND"]
        MGP["ğŸ–¥ï¸ Portal Web<br/>(RUND-MGP)"]
        API["âš™ï¸ API Backend<br/>(RUND-API)"]
        CORE["ğŸ“ Repositorio<br/>(RUND-CORE)"]
        AUTH["ğŸ”‘ AutenticaciÃ³n<br/>(RUND-AUTH)"]
    end

    subgraph Externos["â˜ï¸ Servicios Externos"]
        ENTRA["ğŸ”· Microsoft<br/>Entra ID"]
    end

    P --> RI
    P --> VPN
    G --> RI
    A --> RI

    VPN --> RI
    RI --> MGP

    MGP <--> API
    API <--> CORE
    MGP <--> AUTH
    AUTH <--> ENTRA

    classDef usuario fill:#e1f5fe,stroke:#01579b
    classDef acceso fill:#fff3e0,stroke:#e65100
    classDef sistema fill:#e8f5e9,stroke:#2e7d32
    classDef externo fill:#fce4ec,stroke:#c2185b

    class P,G,A usuario
    class RI,VPN acceso
    class MGP,API,CORE,AUTH sistema
    class ENTRA externo
